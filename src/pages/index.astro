---
import { getCollection } from 'astro:content';
import Analytics from '@vercel/analytics/astro';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';

const posts = (await getCollection('blog'))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 5);

const allPosts = await getCollection('blog');
const wikiTerms = await getCollection('wiki');

const announcements = [
	{ date: '2025-01-05', content: 'ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤. CS ê¸°ì´ˆë¶€í„° ì°¨ê·¼ì°¨ê·¼ ì •ë¦¬í•´ë‚˜ê°ˆ ì˜ˆì •ì…ë‹ˆë‹¤.' },
];

const docs = [
	{ name: 'Java', url: 'https://docs.oracle.com/en/java/', icon: 'java/java-original' },
	{ name: 'Spring', url: 'https://docs.spring.io/spring-framework/reference/', icon: 'spring/spring-original' },
	{ name: 'Spring Boot', url: 'https://docs.spring.io/spring-boot/docs/current/reference/html/', icon: 'spring/spring-original' },
	{ name: 'JPA/Hibernate', url: 'https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html', icon: 'hibernate/hibernate-original' },
	{ name: 'MySQL', url: 'https://dev.mysql.com/doc/refman/8.0/en/', icon: 'mysql/mysql-original' },
	{ name: 'Redis', url: 'https://redis.io/docs/', icon: 'redis/redis-original' },
	{ name: 'Kafka', url: 'https://kafka.apache.org/documentation/', icon: 'apachekafka/apachekafka-original' },
	{ name: 'Docker', url: 'https://docs.docker.com/', icon: 'docker/docker-original' },
	{ name: 'Kubernetes', url: 'https://kubernetes.io/docs/home/', icon: 'kubernetes/kubernetes-original' },
	{ name: 'AWS', url: 'https://docs.aws.amazon.com/', icon: 'amazonwebservices/amazonwebservices-plain-wordmark' },
	{ name: 'JUnit 5', url: 'https://junit.org/junit5/docs/current/user-guide/', icon: 'junit/junit-original' },
	{ name: 'Gradle', url: 'https://docs.gradle.org/current/userguide/userguide.html', icon: 'gradle/gradle-original' },
];

const resources = [
	{ name: 'Baeldung', url: 'https://www.baeldung.com/', desc: 'Java/Spring íŠœí† ë¦¬ì–¼' },
	{ name: 'Martin Fowler', url: 'https://martinfowler.com/', desc: 'ì•„í‚¤í…ì²˜/ì„¤ê³„ íŒ¨í„´' },
	{ name: 'Refactoring Guru', url: 'https://refactoring.guru/', desc: 'ë””ìì¸ íŒ¨í„´/ë¦¬íŒ©í† ë§' },
	{ name: 'Java Design Patterns', url: 'https://java-design-patterns.com/', desc: 'Java ë””ìì¸ íŒ¨í„´ ì˜ˆì œ' },
	{ name: 'Spring Guides', url: 'https://spring.io/guides', desc: 'Spring ê³µì‹ ê°€ì´ë“œ' },
	{ name: 'DZone', url: 'https://dzone.com/java', desc: 'Java ê°œë°œì ì»¤ë®¤ë‹ˆí‹°' },
	{ name: 'InfoQ', url: 'https://www.infoq.com/', desc: 'ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ íŠ¸ë Œë“œ' },
	{ name: 'High Scalability', url: 'http://highscalability.com/', desc: 'ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜' },
];
---

<!doctype html>
<html lang="ko">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			/* Hero Section */
			.hero {
				background: linear-gradient(135deg, rgba(var(--accent-rgb, 91, 109, 255), 0.05) 0%, rgba(var(--accent-rgb, 91, 109, 255), 0.02) 100%);
				border-bottom: 1px solid rgba(var(--gray-light), 0.3);
				position: relative;
				overflow: hidden;
			}
			.hero::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background:
					radial-gradient(circle at 20% 50%, rgba(var(--accent-rgb, 91, 109, 255), 0.03) 0%, transparent 50%),
					radial-gradient(circle at 80% 80%, rgba(var(--accent-rgb, 91, 109, 255), 0.03) 0%, transparent 50%);
				pointer-events: none;
			}
			.hero-content {
				width: 960px;
				max-width: calc(100% - 2em);
				margin: 0 auto;
				padding: 4em 1em 5em;
				position: relative;
				z-index: 1;
			}
			.hero h1 {
				font-size: 3.5em;
				font-weight: 800;
				margin: 0 0 0.3em 0;
				background: linear-gradient(135deg, rgb(var(--black)) 0%, rgb(var(--gray-dark)) 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
				line-height: 1.2;
			}
			.hero .tagline {
				font-size: 1.4em;
				color: rgb(var(--gray));
				margin-bottom: 1.5em;
				font-weight: 500;
			}
			.hero .intro {
				font-size: 1.05em;
				color: rgb(var(--gray-dark));
				line-height: 1.8;
				max-width: 600px;
				margin-bottom: 2em;
			}
			.hero-stats {
				display: flex;
				gap: 2.5em;
				margin-top: 2em;
			}
			.stat {
				display: flex;
				flex-direction: column;
			}
			.stat-number {
				font-size: 2.5em;
				font-weight: 800;
				color: var(--accent);
				line-height: 1;
				margin-bottom: 0.2em;
			}
			.stat-label {
				font-size: 0.9em;
				color: rgb(var(--gray));
				font-weight: 500;
				text-transform: uppercase;
				letter-spacing: 0.05em;
			}

			main {
				width: 960px;
				max-width: calc(100% - 2em);
				margin: auto;
				padding: 3em 1em 4em;
			}

			/* Section Headers */
			.section-header {
				margin-bottom: 2.5em;
			}
			.section-title {
				font-size: 2em;
				font-weight: 700;
				margin-bottom: 0.5em;
				color: rgb(var(--black));
			}
			.section-subtitle {
				font-size: 1.05em;
				color: rgb(var(--gray));
			}

			/* Featured Post */
			.featured-post {
				background: linear-gradient(135deg, var(--card-bg) 0%, rgba(var(--accent-rgb, 91, 109, 255), 0.02) 100%);
				border: 1px solid rgba(var(--gray-light), 0.5);
				border-radius: 20px;
				padding: 2.5em;
				margin-bottom: 3em;
				transition: all 0.3s ease;
				position: relative;
				overflow: hidden;
			}
			.featured-post::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				width: 4px;
				height: 100%;
				background: linear-gradient(180deg, var(--accent) 0%, rgba(var(--accent-rgb, 91, 109, 255), 0.3) 100%);
			}
			.featured-post:hover {
				transform: translateY(-4px);
				box-shadow: 0 12px 40px rgba(var(--gray), 0.15);
				border-color: rgba(var(--accent-rgb, 91, 109, 255), 0.3);
			}
			.featured-badge {
				display: inline-flex;
				align-items: center;
				gap: 0.4em;
				padding: 0.4em 0.9em;
				background: linear-gradient(135deg, var(--accent) 0%, rgba(var(--accent-rgb, 91, 109, 255), 0.8) 100%);
				color: white;
				border-radius: 20px;
				font-size: 0.75em;
				font-weight: 600;
				text-transform: uppercase;
				letter-spacing: 0.05em;
				margin-bottom: 1em;
			}
			.featured-post h3 {
				font-size: 1.8em;
				font-weight: 700;
				margin-bottom: 0.5em;
				line-height: 1.3;
			}
			.featured-post h3 a {
				text-decoration: none;
				color: rgb(var(--black));
				transition: color 0.2s ease;
			}
			.featured-post h3 a:hover {
				color: var(--accent);
			}
			.featured-meta {
				display: flex;
				align-items: center;
				gap: 1em;
				margin-bottom: 1em;
				font-size: 0.9em;
				color: rgb(var(--gray));
			}
			.featured-tags {
				display: flex;
				gap: 0.5em;
				flex-wrap: wrap;
			}
			.featured-tag {
				padding: 0.35em 0.8em;
				background: rgba(var(--accent-rgb, 91, 109, 255), 0.1);
				color: var(--accent);
				border-radius: 6px;
				font-size: 0.8em;
				font-weight: 600;
			}

			/* Grid Layout */
			.grid {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 2em;
				margin-bottom: 2em;
			}
			@media (max-width: 768px) {
				.grid {
					grid-template-columns: 1fr;
				}
			}

			/* Section Cards */
			section {
				background: var(--card-bg);
				border: 1px solid rgba(var(--gray-light), 0.5);
				border-radius: 20px;
				padding: 2em;
				transition: all 0.3s ease;
				position: relative;
			}
			section::after {
				content: '';
				position: absolute;
				inset: 0;
				border-radius: 20px;
				padding: 1px;
				background: linear-gradient(135deg, rgba(var(--accent-rgb, 91, 109, 255), 0.1) 0%, transparent 100%);
				-webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
				-webkit-mask-composite: xor;
				mask-composite: exclude;
				pointer-events: none;
				opacity: 0;
				transition: opacity 0.3s ease;
			}
			section:hover::after {
				opacity: 1;
			}
			section:hover {
				transform: translateY(-2px);
				box-shadow: 0 8px 32px rgba(var(--gray), 0.12);
				border-color: rgba(var(--accent-rgb, 91, 109, 255), 0.2);
			}
			section h2 {
				font-size: 1.1em;
				font-weight: 700;
				margin: 0 0 1.5em;
				color: rgb(var(--black));
				display: flex;
				align-items: center;
				gap: 0.5em;
			}

			/* Posts List */
			.post-list {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			.post-item {
				padding: 1em 0;
				border-bottom: 1px solid rgba(var(--gray-light), 0.3);
				transition: all 0.2s ease;
				position: relative;
			}
			.post-item:last-child {
				border-bottom: none;
				padding-bottom: 0;
			}
			.post-item:first-child {
				padding-top: 0;
			}
			.post-item::before {
				content: '';
				position: absolute;
				left: -2em;
				top: 50%;
				transform: translateY(-50%);
				width: 4px;
				height: 0;
				background: var(--accent);
				border-radius: 2px;
				transition: height 0.2s ease;
			}
			.post-item:hover::before {
				height: 60%;
			}
			.post-item:hover {
				padding-left: 1em;
			}
			.post-item a {
				text-decoration: none;
				color: rgb(var(--black));
				font-weight: 600;
				font-size: 1em;
				line-height: 1.5;
				transition: color 0.2s ease;
			}
			.post-item a:hover {
				color: var(--accent);
			}
			.post-date {
				font-size: 0.85em;
				color: rgb(var(--gray));
				margin-top: 0.4em;
				font-weight: 500;
			}
			.more-link {
				display: inline-flex;
				align-items: center;
				gap: 0.4em;
				margin-top: 1.5em;
				padding: 0.6em 1.2em;
				color: white;
				background: linear-gradient(135deg, var(--accent) 0%, rgba(var(--accent-rgb, 91, 109, 255), 0.8) 100%);
				text-decoration: none;
				font-size: 0.9em;
				font-weight: 600;
				border-radius: 25px;
				box-shadow: 0 4px 12px rgba(var(--accent-rgb, 91, 109, 255), 0.3);
				transition: all 0.3s ease;
			}
			.more-link:hover {
				box-shadow: 0 6px 20px rgba(var(--accent-rgb, 91, 109, 255), 0.4);
				transform: translateY(-2px);
			}

			/* Announcements */
			.announcement-list {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			.announcement-item {
				padding: 1em 1.25em;
				font-size: 0.95em;
				line-height: 1.7;
				background: linear-gradient(135deg, rgba(var(--accent-rgb, 91, 109, 255), 0.05) 0%, rgba(var(--accent-rgb, 91, 109, 255), 0.02) 100%);
				border: 1px solid rgba(var(--accent-rgb, 91, 109, 255), 0.1);
				border-left: 3px solid var(--accent);
				border-radius: 12px;
				margin-bottom: 1em;
				transition: all 0.2s ease;
			}
			.announcement-item:last-child {
				margin-bottom: 0;
			}
			.announcement-item:hover {
				background: rgba(var(--accent-rgb, 91, 109, 255), 0.08);
				border-left-color: var(--accent);
				transform: translateX(4px);
			}
			.announcement-date {
				display: inline-block;
				font-size: 0.75em;
				color: var(--accent);
				background: rgba(var(--accent-rgb, 91, 109, 255), 0.1);
				padding: 0.3em 0.7em;
				border-radius: 6px;
				margin-bottom: 0.6em;
				font-weight: 600;
			}

			/* Docs Grid */
			.docs-grid {
				display: grid;
				grid-template-columns: repeat(6, 1fr);
				gap: 1.2em;
			}
			@media (max-width: 768px) {
				.docs-grid {
					grid-template-columns: repeat(3, 1fr);
					gap: 1em;
				}
			}
			.doc-link {
				display: flex;
				flex-direction: column;
				align-items: center;
				padding: 1.5em 1em;
				background: linear-gradient(135deg, rgba(var(--gray-light), 0.15) 0%, rgba(var(--gray-light), 0.05) 100%);
				border: 1px solid rgba(var(--gray-light), 0.3);
				border-radius: 16px;
				text-decoration: none;
				color: rgb(var(--gray-dark));
				font-size: 0.85em;
				font-weight: 600;
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
				position: relative;
				overflow: hidden;
			}
			.doc-link::before {
				content: '';
				position: absolute;
				inset: 0;
				background: linear-gradient(135deg, rgba(var(--accent-rgb, 91, 109, 255), 0.08) 0%, transparent 100%);
				opacity: 0;
				transition: opacity 0.3s ease;
			}
			.doc-link:hover::before {
				opacity: 1;
			}
			.doc-link:hover {
				border-color: rgba(var(--accent-rgb, 91, 109, 255), 0.4);
				transform: translateY(-6px);
				box-shadow: 0 8px 24px rgba(var(--gray), 0.15);
			}
			.doc-link:hover .doc-icon {
				transform: scale(1.15) rotate(5deg);
			}
			.doc-icon {
				width: 40px;
				height: 40px;
				margin-bottom: 0.8em;
				transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
				position: relative;
				z-index: 1;
			}

			/* Resources */
			.resources-grid {
				display: grid;
				grid-template-columns: repeat(4, 1fr);
				gap: 1.2em;
			}
			@media (max-width: 960px) {
				.resources-grid {
					grid-template-columns: repeat(2, 1fr);
				}
			}
			@media (max-width: 520px) {
				.resources-grid {
					grid-template-columns: 1fr;
				}
			}
			.resource-card {
				display: block;
				padding: 1.5em 1.5em;
				background: linear-gradient(135deg, rgba(var(--gray-light), 0.15) 0%, rgba(var(--gray-light), 0.05) 100%);
				border: 1px solid rgba(var(--gray-light), 0.3);
				border-radius: 16px;
				text-decoration: none;
				transition: all 0.3s ease;
				position: relative;
			}
			.resource-card::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				width: 3px;
				height: 0;
				background: linear-gradient(180deg, var(--accent) 0%, rgba(var(--accent-rgb, 91, 109, 255), 0.3) 100%);
				border-radius: 0 2px 2px 0;
				transition: height 0.3s ease;
			}
			.resource-card:hover::before {
				height: 100%;
			}
			.resource-card:hover {
				background: rgba(var(--gray-light), 0.25);
				border-color: rgba(var(--accent-rgb, 91, 109, 255), 0.2);
				transform: translateX(6px);
				box-shadow: 0 4px 16px rgba(var(--gray), 0.1);
			}
			.resource-name {
				color: rgb(var(--black));
				font-weight: 700;
				font-size: 1.05em;
				margin-bottom: 0.4em;
			}
			.resource-desc {
				font-size: 0.85em;
				color: rgb(var(--gray));
				line-height: 1.5;
			}

			.full-width {
				grid-column: 1 / -1;
			}

			/* Responsive Design */
			@media (max-width: 768px) {
				.hero h1 {
					font-size: 2.5em;
				}
				.hero .tagline {
					font-size: 1.2em;
				}
				.hero-stats {
					gap: 1.5em;
				}
				.stat-number {
					font-size: 2em;
				}
				.featured-post {
					padding: 2em;
				}
				.featured-post h3 {
					font-size: 1.5em;
				}
				.section-title {
					font-size: 1.6em;
				}
			}
		</style>
	</head>
	<body>
		<Header />

		<!-- Hero Section -->
		<div class="hero">
			<div class="hero-content">
				<h1>shlee.dev</h1>
				<p class="tagline">ë§¤ì¼ ì¡°ê¸ˆì”©, ê°œë°œ ê¸°ë¡</p>
				<p class="intro">
					Java, Kotlin, Spring ë°±ì—”ë“œ ê°œë°œê³¼ CS ê¸°ì´ˆë¥¼ ë‹¤ë£¨ëŠ” ê¸°ìˆ  ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.<br />
					ë³µì¡í•œ ê°œë…ì„ ì‰½ê²Œ í’€ì–´ë‚´ê³ , ê²½í—˜ì„ ê³µìœ í•©ë‹ˆë‹¤.
				</p>
				<div class="hero-stats">
					<div class="stat">
						<div class="stat-number">{allPosts.length}</div>
						<div class="stat-label">Posts</div>
					</div>
					<div class="stat">
						<div class="stat-number">{wikiTerms.length}</div>
						<div class="stat-label">Wiki Terms</div>
					</div>
					<div class="stat">
						<div class="stat-number">{new Set(allPosts.flatMap(p => p.data.tags || [])).size}</div>
						<div class="stat-label">Topics</div>
					</div>
				</div>
			</div>
		</div>

		<main>
			<!-- Featured Post -->
			{posts.length > 0 && (
				<div class="featured-post">
					<div class="featured-badge">âœ¨ Latest Post</div>
					<h3><a href={`/blog/${posts[0].id}/`}>{posts[0].data.title}</a></h3>
					<div class="featured-meta">
						<FormattedDate date={posts[0].data.pubDate} />
						{posts[0].data.tags && (
							<div class="featured-tags">
								{posts[0].data.tags.map((tag) => (
									<span class="featured-tag">{tag}</span>
								))}
							</div>
						)}
					</div>
				</div>
			)}

			<div class="grid">
				<section>
					<h2>ğŸ“ ìµœê·¼ ê¸€</h2>
					<ul class="post-list">
						{posts.slice(1).map((post) => (
							<li class="post-item">
								<a href={`/blog/${post.id}/`}>{post.data.title}</a>
								<div class="post-date">
									<FormattedDate date={post.data.pubDate} />
								</div>
							</li>
						))}
					</ul>
					<a href="/blog" class="more-link">ì „ì²´ ê¸€ ë³´ê¸° â†’</a>
				</section>

				<section>
					<h2>ğŸ“¢ ê³µì§€ì‚¬í•­</h2>
					<ul class="announcement-list">
						{announcements.map((item) => (
							<li class="announcement-item">
								<span class="announcement-date">{item.date}</span>
								{item.content}
							</li>
						))}
					</ul>
				</section>

				<section class="full-width">
					<h2>ğŸ“š ê³µì‹ ë¬¸ì„œ</h2>
					<div class="docs-grid">
						{docs.map((doc) => (
							<a href={doc.url} target="_blank" rel="noopener" class="doc-link">
								<img src={`https://cdn.jsdelivr.net/gh/devicons/devicon/icons/${doc.icon}.svg`} alt={doc.name} class="doc-icon" />
								<span>{doc.name}</span>
							</a>
						))}
					</div>
				</section>

				<section class="full-width">
					<h2>ğŸ”— ì¶”ì²œ ë¦¬ì†ŒìŠ¤</h2>
					<div class="resources-grid">
						{resources.map((res) => (
							<a href={res.url} target="_blank" rel="noopener" class="resource-card">
								<div class="resource-name">{res.name}</div>
								<div class="resource-desc">{res.desc}</div>
							</a>
						))}
					</div>
				</section>
			</div>
		</main>
		<Footer />
		<Analytics />
	</body>
</html>
